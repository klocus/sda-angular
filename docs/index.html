<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>SDA – Technologie Frontendowe</title>
</head>
<body>
<xmp theme="united" style="display:none;">
# Angular CRUD App

## Część I

### Założenia aplikacji

Projekt zakłada zbudowanie aplikacji służącej do zarządzania studentami Software Development Academy.

+ Wyświetlanie listy studentów
+ Edycja studentów
+ Dodawanie nowego studenta
+ Usuwanie studentów
+ Komunikacja poprzez API

### Wymagania wstępne

+ Podstawowa znajomość JavaScriptu oraz [TypeScriptu](https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html)
+ Wersja LTS [Node.js](https://nodejs.org/en/download/)
+ Menadżer pakietów [npm](https://docs.npmjs.com)
+ Edytor [Visual Studio Code](https://code.visualstudio.com)
+ [Angular CLI](https://cli.angular.io) do uruchomienia projektu
+ Konsola wiersza poleceń *(np. CMD lub PowerShell)*

### Instalacja Node.js i NPM

1. Pobierz instalator w wersji LTS z oficjalnej strony [Node.js](https://nodejs.org/en/download/).
1. Postępuj zgodnie z instrukcjami wyświetlanymi w instalatorze.
1. Uruchom ponownie komputer.

### Weryfikacja instalacji

Czas sprawdzić, czy mamy poprawnie zainstalowane Node.js i NPM. W tym celu wykonaj kilka poleceń w konsoli wiersza poleceń, aby zobaczyć, jaka
wersja każdego z nich jest zainstalowana.

1. Sprawdź wersję Node.js:
```bash
node -v
```

1. Sprawdź wersję npm:
```bash
npm -v
```

## Część II

### Instalacja Angular CLI

Angular Command Line Interface (CLI) to narzędzie, które pomaga w tworzeniu szkieletów i budowaniu Angularowych aplikacji. Przyspiesza również żmudne zadania, takie jak tworzenie plików różnego typu.

Aby zainstalować Angular CLI, w oknie konsoli wykonaj następujące polecenie:

```bash
npm install -g @angular/cli
```

### Weryfikacja instalacji

Wykonaj następujące polecenie w wierszu poleceń:

```bash
ng version
```

Polecenie powinno zwrócić aktualną wersję Angular CLI i Typescriptu.

### Stworzenie angularowej aplikacji

Skoro wszystko jest gotowe, jesteśmy gotowi do stworzenia naszej pierwszej aplikacji przy użyciu Angulara. Otwórz wiersz poleceń i wykonaj następującą komendę:
```bash
ng new my-app
```

Polecenie `ng new` wyświetli monit o podanie informacji o funkcjach, które należy uwzględnić w początkowej aplikacji. Zaakceptuj wartości domyślne poprzez `Enter`.

Komenda ta zrobi za nas kilka rzeczy:

  + Zainicjuje repozytorium `git`.
  + Utworzy plik `package.json` ze wszystkimi zależnościami Angulara.
  + Skonfiguruje TypeScript, Webpack, Testy.
  + Utworzy folder `src` z początkowym kodem.
  + Wykona `npm install`, aby pobrać wszystkie pakiety do `node_modules`.

Całkiej fajnie, co? Pamiętaj, że dobry programista, to leniwy programista. Ok, teraz przejdź do nowo stworzonego katalogu z aplikacją:

```bash
cd my-app
```
Uruchom wbudowany serwer, który obserwuje zmiany w plikach i buduje aplikację:

```bash
ng serve --open
```
Opcja `--open` automatycznie otwiera kartę w przeglądarce na http://localhost:4200/.

Jeśli instalacja i konfiguracja zakończyła się sukcesem, powinna ukazać się strona podobna do [tej](img/app-works.png).

## Część III

### src/index.html

Budujemy SPA *(ang. Single Page Application)*, więc wszystko zostanie załadowane do pliku `src/index.html`. Otwórz go i przyjrzyj się mu. Jak zapewne widzisz, to dość standardowy kod HTML, z wyjątkiem dwóch elementów specyficznych dla naszej aplikacji:

+ `<base href="/">` – znacznik potrzebny do prawidłowego działania routingu.
+ `<app-root></app-root>` – główny komponent Angulara.

### src/app
 
Katalog `app` zawiera części używane do zmontowania całej aplikacji. W tym katalogu można znaleźć moduły aplikacji, komponenty i routing.

#### app.module.ts

Będziemy często używać tego pliku. Najważniejszą częścią są metadane wewnątrz dekoratora `@NgModule`. Tam zawarte są deklaracje, importy, provider'y i bootstrap.

+ **declarations:** komponenty, dyrektywy i pipe'y.
+ **imports:** routingi i moduły.
+ **bootstrap:** lista komponentów, które chcemy załadować podczas uruchamiania aplikacji. W naszym przypadku jest to `AppComponent`.

#### app.component.ts

AppComponent wygląda trochę podobnie do modułu aplikacji, ale zamiast `@NgModule` mamy dekorator `@Component`. Ponownie najważniejszą częścią jest wartość tych atrybutów *(metadanych)*.

+ **selector:** nazwa komponentu. Pamiętasz `<app-root>` w pliku `index.html`? To właśnie tutaj jest to zdefiniowane.
+ **templateUrl:** ścieżka do pliku szablonu HTML. `<app-root>` zostanie zastąpione tym, co masz w szablonie.
+ **styleUrls:** ścieżka do pliku CSS. Arkusz styli wpłynie wyłącznie na ten komponent, czyli nie przeniknie do innych części aplikacji.

W klasie `AppComponent` można zdefiniować zmienne *(np. `title`)*, które są używane w szablonach.

Usuńmy kod znajdujący się w `app.component.html` i zastąpmy całą zawartość następującym kodem:

```html
<header>
  <h1>
    {{ title }}
  </h1>
</header>

<main></main>

<footer>
  Copyright &copy; 2020 by SDA.
</footer>
```

## Część IV

### Tworzenie nowego komponentu

Utwórzmy nowy komponent do wyświetlania listy studentów. Możemy szybko go wygenerować przy pomocy Angular CLI wpisując:

```bash
ng generate component students
```

To polecenie utworzy nowy folder z czterema plikami:

```bash
CREATE src/app/students/students.component.css (0 bytes)
CREATE src/app/students/students.component.html (23 bytes)
CREATE src/app/students/students.component.spec.ts (642 bytes)
CREATE src/app/students/students.component.ts (283 bytes)
```
CLI doda również wygenerowany komponent *Students* do `AppModule`:

```bash
UPDATE src/app/app.module.ts (404 bytes)
```

Śmiało sprawdź każdy z tych plików. Będą wyglądać podobnie do wcześniej poznanych składników aplikacji. Zwróć jednak uwagę na metodę `ngOnInit()` wewnątrz pliku `students.components.ts`. Jest to jeden z kilku punktów *zaczepienia* cyklu życia. Angular wywołuję tę metodę zaraz po uruchomieniu komponentu. To dobre miejsce na wprowadzenie logiki inicjalizacji.

Dodajmy nasz nowy komponent do głównego komponentu aplikacji. Przejdź do `src/app/app.component.html` i wprowadź pomiędzy znacznik `<main>`:

```html
<app-students></app-students>
```

Jeśli masz uruchomiony proces `ng serve`, powinien on automatycznie zaktualizować stronę i wyświetlić *"students works!".*

### Szablon komponentu *Students*

Samo *"students works!"* nie jest zbyt użyteczne. Zmieńmy to poprzez dodanie kodu HTML, który będzie prezentował naszą listę studentów. Przejdź do pliku `src/app/students/students.component.html` i wklej ten kod HTML:

```html
<section>
  <p>lalala</p>
</section>
```

</xmp>
<script src="strapdown/strapdown.js"></script>
</body>
</html>